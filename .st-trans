#!/bin/bash

# Selected text translator by ibrahim mohammad
# Email: ibrahim.mohammad.2015@gmail.com
# GitHub repository: https://github.com/IbrahimMohammad/shell_script
# No Rights Reserved

# run this script when shortcut key pressed

key="trnsl.1.1.20151126T100621Z.111380f547c17fd9.6b59d2581e2f22b5baabfdc9f1faa22b8a091198"
text="$(xsel -o)"
source="en"
target="ar"
translation="$(wget -U "Mozilla/5.0" -qO - "https://translate.yandex.net/api/v1.5/tr.json/translate?key=$key&text=$text&lang=$source-$target" | cut -d '"' -f 10)"
# send notification
notify-send -u normal -t 7000 "$text" "\<a href\=\"https://translate.yandex.com/?text=$text&lang=$source-$target/\"\>$translation\<\/a\>\nTranslate on \<a href\=\"https://translate.google.com/#$source/$target/$text\"\>Google\<\/a\> \<a href\=\"https://www.bing.com/translator/?text=$text&from=$source&to=$target\"\>Bing\<\/a\>\n\<a href\=\"http://translate.yandex.com/\"\>Powered by Yandex.Translator\<\/a\>"
